import socket
from time import sleep

def send_packet(s: socket.socket, ip: str, port: int):
    # with whitening and preamble
    #packet = b'\x55\x55\x55\x6b\x7d\x91\x71\xf1\x13\x15\xf2\x07\xd6\xbb\x58\xee\x0c\xe8\x1a\x79\x24\x89\xf1\xe4\xd1\x1b\x0f\x33\x48\x5e\x29\x77\xbb\xda\x0e\x65\x6b\x58\x8e\xc5\x29\x89\x8c\xf0\xdc\x32\x36\xba\x32\x20'
    # without whitening and preamble
    packet = b'\x00\x00\x00\x00\x00\x00\x00\x00\xd6\xbe\x89\x8e\x02\x1a\xff\xee\xdd\xcc\xbb\xaa\x02\x01\x06\x10\x08\x53\x69\x6c\x61\x62\x73\x20\x52\x41\x49\x4c\x54\x45\x53\x54\x6d\xed\xe6'
    
    print(f'Sending packet {packet} to ip {ip} and port {port}')
    return s.sendto(packet, (ip, port))

if __name__ == '__main__':
    s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    ip = "127.0.0.1"
    port = 52001
    for i in range(50):
      send_packet(s, ip, port)
      sleep(0.2)
